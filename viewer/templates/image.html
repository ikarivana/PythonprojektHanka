{% extends 'base.html' %}
{% load static %}

{% block title %}
Obr√°zky
{% endblock %}

{% block content %}
<div class="container">
    {% if messages %}
    <div class="messages">
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }}">
            {{ message }}
        </div>
        {% endfor %}
    </div>
    {% endif %}

    {% if user.is_authenticated %}
        {% if is_staff %}
            <div class="admin-panel text-center">
                <p class="admin-label">Administr√°torsk√Ω p≈ô√≠stup</p>
                <p class="last-login">Posledn√≠ p≈ôihl√°≈°en√≠: {{ last_login|date:"d.m.Y H:i" }}</p>
            </div>
        {% endif %}
    {% endif %}

    <div class="image-controls-top text-center mb-3">
        {% if perms.viewer.add_image %}
        <a href="{% url 'image_update' image.id %}" class="btn btn-primary mx-2">üñãÔ∏è</a>
        {% endif %}

        {% if perms.viewer.delete_image %}
        <a href="{% url 'image_delete' image.id %}" class="btn btn-primary mx-2"
           onclick="return confirm('Opravdu chcete smazat tento obr√°zek?')">üóëÔ∏è</a>
        {% endif %}
    </div>

    <div class="image-display text-center mb-4">
        <img src="{{ image.image.url }}"
             alt="{{ image.name }}"
             class="main-image img-fluid mx-auto d-block"
             style="max-width: 500px;">
    </div>

    <div class="image-details text-center">
        {% if image.padikura %}
        <div class="detail-item pedikura-image mb-2">
            <span class="detail-label">Pedik√∫ra:</span>
            <a href="{% url 'pedikura' image.pedikura.id %}">{{ image.name }}</a>
        </div>
        {% endif %}

        {% if image.rasy %}
        <div class="detail-item rasy-image mb-2">
            <span class="detail-label">≈òasy:</span>
            <a href="{% url 'eyelash_detail' image.rasy.id %}">{{ image.name }}</a>
        </div>
        {% endif %}

        {% if image.zdravi %}
        <div class="detail-item zdravi-image mb-2">
            <span class="detail-label">Zdrav√≠:</span>
            <a href="{% url 'health_detail' image.zdravi.id %}">{{ image.name }}</a>
        </div>
        {% endif %}

        {% if image.contact %}
        <div class="detail-item contact-image mb-2">
            <span class="detail-label">Kontakt:</span>
            <a href="{% url 'contact_detail' image.contact.id %}">{{ image.name }}</a>
        </div>
        {% endif %}

        {% if image.is_home %}
        <div class="detail-item is_home-image mb-2">
            <span class="detail-label">Domovsk√°:</span>
            <a href="{% url 'home' %}">{{ image.name }}</a>
        </div>
        {% endif %}

        {% if image.order %}
        <div class="detail-item order-image mb-2">
            <span class="detail-label">Objedn√°vky:</span>
            <a href="{% url 'order_list' %}">{{ image.name }}</a>
        </div>
        {% endif %}

        {% if image.pedikura1 %}
        <div class="detail-item pedikura-image mb-2">
            <span class="detail-label">Pedik√∫ra:</span>
            <a href="{% url 'pedicure' %}">{{ image.name }}</a>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}
